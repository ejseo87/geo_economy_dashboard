# PRD for Claude Code Input (Geo Economy Dashboard)

## 1. Project Overview
- Name: Geo Economy Dashboard
- Data Source: World Bank API (https://api.worldbank.org/v2)
- Backend: Firebase (Auth, Firestore, Storage)
- Local Cache: sqllite Database (iOS/Android)
- State Management: Riverpod
- Purpose: Compare Korea’s economic indicators with OECD 38 countries, provide instant insight and shareable charts.

## 2. Core Features
1. Data collection from World Bank API, stored in Firebase Firestore.
2. Admin user with privileges:
   - Collect latest data from World Bank API
   - Audit Firestore for duplicates
   - Delete outdated/duplicate data
   - Check World Bank DB for new data
3. Local caching with sqllite DB for fast response:
   - Query order: sqllite → Firestore → World Bank API
   - Store fetched data into sqllite, auto-remove outdated entries
   - No duplicate entries in sqllite
4. Data always stored in Firestore without duplication.

## 3. UI/UX Requirements
- **10s–1min–5min Rule**:
  - 10s: Country summary card (Top 5 indicators, badges, colors)
  - 1min: Compare selected indicators vs OECD median (±IQR) + 3 similar countries
  - 5min: Detailed view with 20 core indicators
- **Colors/Badges**:
  - Positive indicators ↑: Blue
  - Negative indicators ↑: Red/Orange
  - Neutral: Purple/Teal
  - Missing data: Gray
- **Accessibility**:
  - Font scaling, color-blind palette, WCAG contrast
- **Usability**:
  - Swipe/tab gestures, long-press for favorites, tooltips with indicator definitions
- **Feedback**:
  - Loading spinners, offline mode, friendly error messages
- **Sharing**:
  - Export cards/charts as PNG/JPEG, share links, save bookmarks
- **UI Style Guide**:
  - Color: Primary #0055A4, Accent #00A86B, Warning #FFD700, Background #F5F5F5, Text Primary #222, Text Secondary #666.
  - Font: Noto Sans KR(한글), Roboto(영문·숫자).
  - Button: rounded corner 8px, Primary(background Primary Color/Text White), Secondary(Border Primary Color/Background White).
  - Card: shadow 2dp, corner 12px, padding 16px.

## 4. Data Design
- Firestore: Central DB (OECD statistics included)
- sqllite: Local cache
- Metadata: indicator_id, unit, transformation rules, update frequency
- Aggregation: OECD Median, IQR, percentile, rankings

## 5. Non-Functional Requirements
- iOS app response time < 2s
- HTTPS, Firebase Auth for security
- Firestore duplicate prevention + Admin audit tools

## 6. User Scenarios
1. User opens app → if it is the first visit, sees Korea summary in 10s. Else sees the last selected country summary in 10s.
2. Selects 2 countries → compares indicators (1min)
3. If not cached → fetch from Firestore or API → save to sqllite
4. Share results or set alerts
5. Admin audits data for consistency

## 7. Roadmap
- Phase 1: Finish dashboard (3 tabs, OECD statistics, caching)
- Phase 2: Alerts, optimization, advanced comparison
- Phase 3: Expansion to non-OECD countries, AI insights, web dashboard

## 8. etc
- do not use freezed package. it causes a lot of errors on my project folder.

## 9. screen design guideline
9-1 plash / Intro
- background : blue(#0055A4) gradient
- logo: world map + line chart (center) 
- text: App name, slogan
- animation: fade in → home screen
9-2 login / join
- input fields: email, password 
- button: login(Primary), join(Secondary)
- SNS login: Google, Apple, kakaotalk, github
- guest mode: link in the bottom
9-3 home(dashboard) 
- appbar: globe icon with dropdown menu to select counties, setting icon and app name
- tab bar navigation on home screen
- the first tab is 10s : country summary cards : GDP, unemployment rate, inflation rate, 
- the second tab is 1 min :  Compare selected indicators vs OECD median (±IQR) + 3 similar countries
- the third tab is a detailed view with 20 core indicators of the country
- chart preview: 선택 지표 최근 5년 추이
- bottom navagation bar : home, search, favorates(bookmarks), settings
9-4 search 
- appbar : search field(country name or keyword of Indicators )
- recommanded tags like GDP, unemployment rate, etc.
- result list : a list of country name with flag or indicator with gesture detetor to go the detail view screen
9-5 a detail view of country
- header : country name with flag and the updated date 
- the fist section is the summary cards just same like the first tab of home 
- the second section is line charts of country summary cards during for the last 10 years
- the third section is bar charts of the summary cards to compare between OECD average and the selected country
- the last section is the others indicators button grid 
9-6 a detail view of indicator 
- header : indicator name with unit and the updated date 
- description : the meaning of indicator with worldbank link of the indicator 
- ranking by country : a bar chart 
- the selected country trends: line chart 